## Approach Reviewer によるレビュー結果

### 1. 判定 (Decision)

- **Status**: Request Changes

**判定基準:** P0 が1件以上存在する場合は Request Changes とする。P0 が0件の場合は Approve とする。

### 2. 良い点 (Strengths)

- **Section 2 (背景・動機)**: delta の過大・過小が引き起こす問題を具体的に分析しており、RFC の必要性が明確に示されている。
- **Section 5.2.1 (ステージ別 delta テーブル)**: オセロの評価値変動特性（序盤不安定・終盤安定）に基づくステージ区分は、MpcParameterTable の実績あるパターンと一貫性があり妥当である。
- **Section 6 (代替案の検討)**: 拡張戦略について案 A〜C、delta 設定方法について案 D〜E を比較検討しており、選定理由が論理的に記述されている。
- **Section 8 (テスト戦略)**: delta パラメータの調整基準が具体的な閾値とアクションのペアで定義されており、チューニングの判断が属人化しない設計になっている。
- **Section 3 (Non-Goals)**: 自動パラメータチューニングや評価関数の変更を明示的にスコープ外としており、過剰なスコープ拡大を防いでいる。

### 3. 指摘事項 (Issues)

#### Severity 定義

| Severity | 名称 | 定義 | Author の対応 |
| :--- | :--- | :--- | :--- |
| **P0 (Blocker)** | 修正必須 | 論理的欠陥、仕様漏れ、重大なリスク、回答必須の質問 | 必ず対応 |
| **P1 (Improvement)** | 具体的改善 | 修正内容と期待効果が明確な具体的改善提案 | 原則対応 |
| **P2 (Note)** | 記録のみ | 代替案の提示、将来的な懸念、参考情報 | 対応不要 |

#### 指摘一覧

**[P0-1] 指数拡張戦略のフラグ制御範囲の曖昧さ**
- **対象セクション**: Section 5.7 (PvsSearchEngine の変更)
- **内容**: RFC では `AspirationUseStageTable` フラグが delta 初期値のステージ別テーブル切替のみに使用されているが、指数拡張戦略（`delta * (1L << (retryCount + 1))`）は `AspirationUseStageTable` の ON/OFF に関係なく常に適用されるコードになっている。これは後方互換性に関する Section 7.3 の「`AspirationUseStageTable = false` の場合、動作は完全に同一である」という記述と矛盾する。指数拡張戦略を既存の固定 2 倍拡張と切り替える仕組みが欠落している。
- **修正の期待値**: `AspirationUseStageTable = false` の場合は従来の `delta *= 2` を使用し、`true` の場合のみ指数拡張を適用するように設計を修正するか、指数拡張を独立したフラグで制御する設計に変更すること。

**[P0-2] ステージ別 delta 初期値の根拠不足**
- **対象セクション**: Section 5.2.1 (ステージ別 delta テーブルの導入)
- **内容**: 序盤 80、中盤 50、終盤 30 という delta 初期値は「仮設定」と明記されているが、Reluca の評価関数 `FeaturePatternEvaluator` の実際の出力スケール（数百〜数万と記述あり）に対してこれらの値が妥当であるかの定量的分析が一切ない。フェーズ 3 のベンチマークで調整するとしているが、初期値が桁違いに不適切であった場合、ベンチマーク自体が有効な知見を得られない。最低限、現行の `delta = 50` での retry 発生率を事前計測し、初期値の妥当性の根拠とすべきである。
- **修正の期待値**: 現行パラメータ（delta = 50）での retry 発生率・フォールバック率のベースライン計測結果を RFC に追記し、初期値設定の出発点として使用すること。

**[P1-1] 成功時の再探索コストに関する定量的評価の欠如**
- **対象セクション**: Section 5.4.1 (リトライ回数のコスト分析)
- **内容**: コスト分析表の「成功時の最大探索回数」が実際のコストを過大に見積もっている。Aspiration Window が成功した場合の再探索（`_suppressTTStore = false` での再探索）は TT にヒットするため、初回探索と比較して大幅に軽量である。この点を明記することで、retry のコスト分析がより正確になる。
- **修正の期待値**: コスト分析に「成功時の再探索は TT ヒットにより初回比で大幅に軽量である」旨を注記として追加すること。

**[P1-2] 指数拡張の累積倍率計算の誤り**
- **対象セクション**: Section 5.3.2 (拡張戦略の比較)
- **内容**: 指数拡張の比較表で「累積 64 倍」と記載されているが、Section 5.3.1 のコード `delta * (1L << (retryCount + 1))` を追うと、retry 0 で delta*2、retry 1 で (delta*2)*4 = delta*8、retry 2 で (delta*8)*8 = delta*64 となり累積 64 倍は正しい。しかし表の「retry 1 の拡張: x4」「retry 2 の拡張: x8」は各 retry 時点の乗数であり、累積乗数（retry 1 時点で累積 8 倍、retry 2 時点で累積 64 倍）との混同が生じやすい。表に累積倍率の列を追加すべきである。
- **修正の期待値**: 比較表に「累積倍率」列を追加し、各 retry 時点での delta の初期値比を明示すること。

**[P2-1] MPC との相互作用の検証優先度**
- **対象セクション**: Section 7.1 (スケーラビリティとパフォーマンス)
- **内容**: MPC ON/OFF 両条件下でベンチマークを実施するとしているが、MPC が Aspiration Window の retry 発生率に与える影響の方向性（MPC が評価値を安定化させるため retry が減少する可能性）についての仮説が記述されていない。仮説を立てておくことで、ベンチマーク結果の解釈が容易になる。
